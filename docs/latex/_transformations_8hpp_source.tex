\doxysection{Transformations.\+hpp}
\hypertarget{_transformations_8hpp_source}{}\label{_transformations_8hpp_source}\index{src/Engine/Transformations.hpp@{src/Engine/Transformations.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ \ Transformations.hpp}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ \ VisualsEngine}}
\DoxyCodeLine{00004\ \textcolor{comment}{//}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ \ Created\ by\ Daniel\ Almeida\ on\ 28/01/2025.}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#ifndef\ \_\_transformations\_hpp\_\_}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#define\ \_\_transformations\_hpp\_\_}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}Visuals.hpp"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}Signals.hpp"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{using\ }glslParameterType\ =\ std::variant<float*,\ Signal<float>*>;}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{class\ }GLSLTransformationDecorator\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_visuals_interface}{VisualsInterface}}\ \{}
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{class_visuals_interface}{VisualsInterface}}\ *visual;}
\DoxyCodeLine{00019\ \ \ \ \ ofShader\ shader;}
\DoxyCodeLine{00020\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00021\ \ \ \ \ std::map<std::string,\ glslParameterType>\ floatParameters;}
\DoxyCodeLine{00022\ \ \ \ \ std::vector<string>\ parameterNames;}
\DoxyCodeLine{00023\ \ \ \ \ }
\DoxyCodeLine{00024\ \ \ \ \ GLSLTransformationDecorator(\mbox{\hyperlink{class_visuals_interface}{VisualsInterface}}\ *\_visual,\ std::string\ shaderName,\ \textcolor{keywordtype}{bool}\ useDefaultBase\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ visual\ =\ \_visual;}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ std::string\ fragFilename\ =\ shaderName\ +\ \textcolor{stringliteral}{"{}.frag"{}};}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ std::string\ vertFilename\ =\ useDefaultBase\ ?\ \textcolor{stringliteral}{"{}Base.frag"{}}\ :\ shaderName\ +\ \textcolor{stringliteral}{"{}.vert"{}};}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ shader.load(vertFilename,\ fragFilename);}
\DoxyCodeLine{00031\ \ \ \ \ \}}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_g_l_s_l_transformation_decorator_a99d8219c4bf640d79598eff426d9ebaa}{update}}()\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ visual-\/>update();}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ rect\ =\ visual-\/>rect;}
\DoxyCodeLine{00035\ \ \ \ \ \}}
\DoxyCodeLine{00036\ \ \ \ \ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_g_l_s_l_transformation_decorator_a47fe3d0a9a451a2a9c9fff845775d9b3}{draw}}()\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_g_l_s_l_transformation_decorator_a47fe3d0a9a451a2a9c9fff845775d9b3}{draw}}(rect);}
\DoxyCodeLine{00040\ \ \ \ \ \}}
\DoxyCodeLine{00041\ \ \ \ \ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_g_l_s_l_transformation_decorator_a7c07bdda7ee4b3e06680d89b2a7e1f0e}{draw}}(ofRectangle\ \_rect)\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ shader.begin();}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ parameter\ :\ floatParameters)\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ value;}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::holds\_alternative<\mbox{\hyperlink{class_signal}{Signal<float>}}*>(parameter.second))\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_signal}{Signal<float>}}*\ signalPtr\ =\ std::get<Signal<float>*>(parameter.second);}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ signalPtr-\/>\mbox{\hyperlink{class_signal_a4af58dfdc44d3b217f3f23f671167448}{getValue}}();}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::holds\_alternative<float*>(parameter.second))\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ *parameterFloat\ =\ std::get<float*>(parameter.second);}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ *(parameterFloat);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ shader.setUniform1f(parameter.first,\ value);}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ visual-\/>draw(\_rect);}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ shader.end();}
\DoxyCodeLine{00063\ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_g_l_s_l_transformation_decorator_ae9715312ace0cce2faa43a9240116580}{setParameter}}(\textcolor{keywordtype}{string}\ parameterName,\ \textcolor{keywordtype}{float}\ value)\ \{}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ floatParameters[parameterName]\ =\ \&value;}
\DoxyCodeLine{00070\ \ \ \ \ \}}
\DoxyCodeLine{00071\ \ \ \ \ }
\DoxyCodeLine{00072\ \ \ \ \ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{void}\ play()\ \{\}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordtype}{void}\ stop()\ \{\}}
\DoxyCodeLine{00075\ \ \ \ \ ofJson\ \mbox{\hyperlink{class_g_l_s_l_transformation_decorator_a509199aba349bbbdeb4a86a60ae5bb37}{encode}}()\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00077\ \ \ \ \ \}}
\DoxyCodeLine{00078\ \};}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_transformation_factory}{TransformationFactory}}\ \{}
\DoxyCodeLine{00082\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00083\ \ \ \ \ }
\DoxyCodeLine{00084\ \ \ \ \ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_visuals_interface}{VisualsInterface}}*\ GLSL(}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_visuals_interface}{VisualsInterface}}\ *visual,}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ shaderName,}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ useDefaultBase\ =\ \textcolor{keyword}{true},}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::map<std::string,\ glslParameterType>\ \_floatParameters\ =\ \{\}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_g_l_s_l_transformation_decorator}{GLSLTransformationDecorator}}\ *transformation\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_g_l_s_l_transformation_decorator}{GLSLTransformationDecorator}}(visual,\ shaderName,\ useDefaultBase);}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ transformation-\/>floatParameters\ =\ \_floatParameters;}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ transformation;}
\DoxyCodeLine{00095\ \ \ \ \ \};}
\DoxyCodeLine{00096\ \ \ \ \ }
\DoxyCodeLine{00097\ \};}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
