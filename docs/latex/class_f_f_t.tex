\doxysection{FFT Class Reference}
\hypertarget{class_f_f_t}{}\label{class_f_f_t}\index{FFT@{FFT}}


!  




{\ttfamily \#include $<$FFT.\+hpp$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_f_f_t_ad5b74f3091a191c8921c62fd9ac7eeb7}\label{class_f_f_t_ad5b74f3091a191c8921c62fd9ac7eeb7} 
{\bfseries FFT} (const \mbox{\hyperlink{class_f_f_t}{FFT}} \&)=delete
\item 
\Hypertarget{class_f_f_t_a0f1dc7f6db0f37969a87e3403cd24d71}\label{class_f_f_t_a0f1dc7f6db0f37969a87e3403cd24d71} 
\mbox{\hyperlink{class_f_f_t}{FFT}} \& {\bfseries operator=} (const \mbox{\hyperlink{class_f_f_t}{FFT}} \&)=delete
\item 
void \mbox{\hyperlink{class_f_f_t_a3aa95b6746275f9626d9494e4a8d3971}{setup}} (int buffer\+Size)
\begin{DoxyCompactList}\small\item\em Basic setup to the \doxylink{class_f_f_t}{FFT}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_f_f_t_a2d6e6172b2457e544f36f78e251e7b83}{set\+Signal}} (vector$<$ float $>$ signal)
\begin{DoxyCompactList}\small\item\em Receives the Audio Buffer, calculates the \doxylink{class_f_f_t}{FFT}, Filters, around a bin, calculates the energy and triggers a beat if it is detected. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_f_f_t_a2d6dea341b8f72985d5944ad1762e323}\label{class_f_f_t_a2d6dea341b8f72985d5944ad1762e323} 
static \mbox{\hyperlink{class_f_f_t}{FFT}} \& {\bfseries get\+Instance} ()
\begin{DoxyCompactList}\small\item\em Returns the instance of the \doxylink{class_f_f_t}{FFT} singleton. Creates it if needed. \end{DoxyCompactList}\item 
static std\+::vector$<$ float $>$ \mbox{\hyperlink{class_f_f_t_afb51d5217405d8c46c5aaf608ab4d1a7}{build\+Hanning\+Window}} (int \+\_\+window\+Size)
\begin{DoxyCompactList}\small\item\em Static function that builds a vector with the shape of an hanning window with the desired window size. \end{DoxyCompactList}\item 
static float \mbox{\hyperlink{class_f_f_t_a9fe191f3d41f7c01f2bba66a3da7b715}{calculate\+Energy\+With\+Hanning\+Window}} (std\+::vector$<$ float $>$ in, int center\+Bin, std\+::vector$<$ float $>$ \+\_\+hanning\+Window)
\begin{DoxyCompactList}\small\item\em Applies the Hanning window to the data and calculates the energy of the filtered signal. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{class_f_f_t_afcf00eb9a338c14af2aa9750b55cf685}{sensitivity}} = 2.\+5f
\item 
int \mbox{\hyperlink{class_f_f_t_a64356a00bbc051bc8abf64742b6d0dec}{beat\+Detection\+Bin}} = 5
\item 
int \mbox{\hyperlink{class_f_f_t_a28e4503c79031e5edaeffe5a14080490}{window\+Size}} = 7
\item 
unsigned long int \mbox{\hyperlink{class_f_f_t_a9f0918ab761eb845a9fab50fac55522e}{total\+Beat\+Count}} = 0
\item 
float \mbox{\hyperlink{class_f_f_t_a62451bd843c1c8184663e1b4ad1652e9}{min\+Beat\+Energy}} = 0.\+00005
\item 
float \mbox{\hyperlink{class_f_f_t_a08d57c30cee19f0684bf110bde40c2f2}{off\+Beat\+Factor}} = 0.\+10
\item 
float \mbox{\hyperlink{class_f_f_t_acb369c396162d56c1ce5de5e7284a146}{maximum\+Energy\+Measured}}
\item 
float \mbox{\hyperlink{class_f_f_t_abebd0aa66152e5db4f505990638fdd26}{beat\+On}}
\item 
\Hypertarget{class_f_f_t_a43bf006052e6102924f72604fdb8a219}\label{class_f_f_t_a43bf006052e6102924f72604fdb8a219} 
vector$<$ float $>$ {\bfseries audio\+Bins}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
! 

Class wrapper for ofx\+Fft using a Singleton pattern 

\label{doc-func-members}
\Hypertarget{class_f_f_t_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{class_f_f_t_afb51d5217405d8c46c5aaf608ab4d1a7}\index{FFT@{FFT}!buildHanningWindow@{buildHanningWindow}}
\index{buildHanningWindow@{buildHanningWindow}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{buildHanningWindow()}{buildHanningWindow()}}
{\footnotesize\ttfamily \label{class_f_f_t_afb51d5217405d8c46c5aaf608ab4d1a7} 
std\+::vector$<$ float $>$ FFT\+::build\+Hanning\+Window (\begin{DoxyParamCaption}\item[{int}]{\+\_\+window\+Size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Static function that builds a vector with the shape of an hanning window with the desired window size. 


\begin{DoxyItemize}
\item Parameter window\+Size\+: the number of bins occupied by the window 
\end{DoxyItemize}\Hypertarget{class_f_f_t_a9fe191f3d41f7c01f2bba66a3da7b715}\index{FFT@{FFT}!calculateEnergyWithHanningWindow@{calculateEnergyWithHanningWindow}}
\index{calculateEnergyWithHanningWindow@{calculateEnergyWithHanningWindow}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{calculateEnergyWithHanningWindow()}{calculateEnergyWithHanningWindow()}}
{\footnotesize\ttfamily \label{class_f_f_t_a9fe191f3d41f7c01f2bba66a3da7b715} 
float FFT\+::calculate\+Energy\+With\+Hanning\+Window (\begin{DoxyParamCaption}\item[{std\+::vector$<$ float $>$}]{in}{, }\item[{int}]{center\+Bin}{, }\item[{std\+::vector$<$ float $>$}]{\+\_\+hanning\+Window}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Applies the Hanning window to the data and calculates the energy of the filtered signal. 

the original data isn\textquotesingle{}t changed
\begin{DoxyItemize}
\item Parameters\+:
\begin{DoxyItemize}
\item in\+: the \doxylink{class_f_f_t}{FFT} bins
\item center\+Bin\+: the bin where the window is centered at
\item hanning\+Window\+: the vector containing the pre calculated shape of the hanning window 
\end{DoxyItemize}
\end{DoxyItemize}\Hypertarget{class_f_f_t_a2d6e6172b2457e544f36f78e251e7b83}\index{FFT@{FFT}!setSignal@{setSignal}}
\index{setSignal@{setSignal}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{setSignal()}{setSignal()}}
{\footnotesize\ttfamily \label{class_f_f_t_a2d6e6172b2457e544f36f78e251e7b83} 
void FFT\+::set\+Signal (\begin{DoxyParamCaption}\item[{vector$<$ float $>$}]{signal}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Receives the Audio Buffer, calculates the \doxylink{class_f_f_t}{FFT}, Filters, around a bin, calculates the energy and triggers a beat if it is detected. 


\begin{DoxyItemize}
\item Parameter signal\+: a vector containing the audio signal. 
\end{DoxyItemize}\Hypertarget{class_f_f_t_a3aa95b6746275f9626d9494e4a8d3971}\index{FFT@{FFT}!setup@{setup}}
\index{setup@{setup}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily \label{class_f_f_t_a3aa95b6746275f9626d9494e4a8d3971} 
void FFT\+::setup (\begin{DoxyParamCaption}\item[{int}]{buffer\+Size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Basic setup to the \doxylink{class_f_f_t}{FFT}. 


\begin{DoxyItemize}
\item Parameter buffer\+Size\+: the size of buffers 
\end{DoxyItemize}

\label{doc-variable-members}
\Hypertarget{class_f_f_t_doc-variable-members}
\doxysubsection{Member Data Documentation}
\Hypertarget{class_f_f_t_a64356a00bbc051bc8abf64742b6d0dec}\index{FFT@{FFT}!beatDetectionBin@{beatDetectionBin}}
\index{beatDetectionBin@{beatDetectionBin}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{beatDetectionBin}{beatDetectionBin}}
{\footnotesize\ttfamily \label{class_f_f_t_a64356a00bbc051bc8abf64742b6d0dec} 
int FFT\+::beat\+Detection\+Bin = 5}

@abstract the bin where the Hanning window is centered \Hypertarget{class_f_f_t_abebd0aa66152e5db4f505990638fdd26}\index{FFT@{FFT}!beatOn@{beatOn}}
\index{beatOn@{beatOn}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{beatOn}{beatOn}}
{\footnotesize\ttfamily \label{class_f_f_t_abebd0aa66152e5db4f505990638fdd26} 
float FFT\+::beat\+On}

@abstract mark when a beat is happening \Hypertarget{class_f_f_t_acb369c396162d56c1ce5de5e7284a146}\index{FFT@{FFT}!maximumEnergyMeasured@{maximumEnergyMeasured}}
\index{maximumEnergyMeasured@{maximumEnergyMeasured}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{maximumEnergyMeasured}{maximumEnergyMeasured}}
{\footnotesize\ttfamily \label{class_f_f_t_acb369c396162d56c1ce5de5e7284a146} 
float FFT\+::maximum\+Energy\+Measured}

@abstract stores the maximum energy already felt by the beat detector \Hypertarget{class_f_f_t_a62451bd843c1c8184663e1b4ad1652e9}\index{FFT@{FFT}!minBeatEnergy@{minBeatEnergy}}
\index{minBeatEnergy@{minBeatEnergy}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{minBeatEnergy}{minBeatEnergy}}
{\footnotesize\ttfamily \label{class_f_f_t_a62451bd843c1c8184663e1b4ad1652e9} 
float FFT\+::min\+Beat\+Energy = 0.\+00005}

@abstract the minimum energy needed for the beat detection algorithm to be executed \Hypertarget{class_f_f_t_a08d57c30cee19f0684bf110bde40c2f2}\index{FFT@{FFT}!offBeatFactor@{offBeatFactor}}
\index{offBeatFactor@{offBeatFactor}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{offBeatFactor}{offBeatFactor}}
{\footnotesize\ttfamily \label{class_f_f_t_a08d57c30cee19f0684bf110bde40c2f2} 
float FFT\+::off\+Beat\+Factor = 0.\+10}

@abstract factor applied to the beat threshold in order to allow for the current beat detected to stop. smalller the value, the nearest to silence \Hypertarget{class_f_f_t_afcf00eb9a338c14af2aa9750b55cf685}\index{FFT@{FFT}!sensitivity@{sensitivity}}
\index{sensitivity@{sensitivity}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{sensitivity}{sensitivity}}
{\footnotesize\ttfamily \label{class_f_f_t_afcf00eb9a338c14af2aa9750b55cf685} 
float FFT\+::sensitivity = 2.\+5f}

@abstract the \Hypertarget{class_f_f_t_a9f0918ab761eb845a9fab50fac55522e}\index{FFT@{FFT}!totalBeatCount@{totalBeatCount}}
\index{totalBeatCount@{totalBeatCount}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{totalBeatCount}{totalBeatCount}}
{\footnotesize\ttfamily \label{class_f_f_t_a9f0918ab761eb845a9fab50fac55522e} 
unsigned long int FFT\+::total\+Beat\+Count = 0}

@abstract the total ammount of beats detected since the instatiation of the object \Hypertarget{class_f_f_t_a28e4503c79031e5edaeffe5a14080490}\index{FFT@{FFT}!windowSize@{windowSize}}
\index{windowSize@{windowSize}!FFT@{FFT}}
\doxysubsubsection{\texorpdfstring{windowSize}{windowSize}}
{\footnotesize\ttfamily \label{class_f_f_t_a28e4503c79031e5edaeffe5a14080490} 
int FFT\+::window\+Size = 7}

@abstract the dimention of the hanning filter window 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\+Engine/\+Services/FFT.\+hpp\end{DoxyCompactItemize}
